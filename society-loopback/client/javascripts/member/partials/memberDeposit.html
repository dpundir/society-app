<div class="panel panel-primary">
	<div class="alert alert-success" role="alert" ng-bind="successMsg" ng-show="showSuccessMsg"></div>
	<div class="alert alert-danger" role="alert" ng-bind="errorMsg" ng-show="showErrorMsg"></div>
	<div class="panel-heading">
		<h4>Account Information</h4>

		<div class="row btn-setting pull-right">
			<button type="button"
							class="btn btn-primary"
							ng-click="configureDeposit()" ng-bind="actionText"
							ng-hide="deposit.configureHidden"></button>
			<button type="button"
							class="btn btn-primary"
							ng-click="configureSave()">New deposit
			</button>
		</div>
	</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label>Account Balance:</label>
					<span>&#8377;</span>
					<input type="text"
								 class="form-control" name="deposit"
								 id="deposit" ng-disabled="deposit.isViewMode"
								 required="" ng-model="deposit.deposit">
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label>Share value:</label>
					<span>&#8377;</span>
					<input type="text"
								 class="form-control" name="shareValue"
								 id="shareValue" ng-disabled="deposit.isViewMode"
								 required="" ng-model="deposit.shareValue">
				</div>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label>Installment frequency:</label>
					<select name="installmentFrequency" id="installmentFrequency" ng-model="deposit.installmentFreq"
									class="form-control"
									ng-disabled="deposit.isViewMode"
									required=""
									ng-options="depositOption.id as depositOption.label for depositOption in depositFrequencyOptions">
					</select>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label>Installment value:</label>
					<span>&#8377;</span>
					<input type="text"
								 class="form-control" name="installmentValue"
								 id="installmentValue" ng-disabled="deposit.isViewMode"
								 required="" ng-model="deposit.installmentValue">
				</div>
			</div>
		</div>
	</div>
</div>
</br>
<div ng-hide="isCollapsed">
	<form class="form-horizontal reg-form" name="depositForm" non-validate>
		<div class="form-bottom">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h4>New Deposit Information</h4>

					<div class="row btn-setting pull-right">
						<button type="button"
										class="btn btn-primary"
										ng-disabled="isCollapsed || !transactionId"
										ng-click="printDeposit(depositForm)">Print
						</button>
						<button type="button"
										class="btn btn-primary"
										ng-click="cancelNewDeposit(depositForm)">Cancel
						</button>
						<button type="button"
										class="btn btn-primary"
										ng-disabled="transactionId"
										ng-click="saveNewDeposit(depositForm)">Save
						</button>
					</div>
				</div>
				<div class="panel-body">
					<div class="alert alert-danger" role="alert" ng-bind="error.errorText" ng-show="error.isError">
					</div>
					<div class="row">
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Deposit amount</span>
									<span class="text-danger">*</span>
								</div>
								<input type="text" name="damount"
											 class="form-control"
											 id="amount"
											 required="" ng-model="transaction.depositAmount">
							</div>
						</div>
						<div class="col-sm-4" ng-if="transaction.type == 2">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Interest amount</span>
									<span class="text-danger">*</span>
								</div>
								<input type="text" name="interestAmount"
											 class="form-control"
											 id="interestAmount"
											 ng-model="transaction.interestAmount">
							</div>
						</div>

						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Penalty amount</span>
								</div>
								<input type="text" name="pamount"
											 class="form-control"
											 id="pamount" ng-model="transaction.penaltyAmount">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Type</span>
									<span class="text-danger">*</span>
								</div>
								<select name="transactionType"
												class="form-control"
												required ng-model="transaction.type"
												ng-options="option.id as option.label for option in depositOptions track by option.id">
									<option></option>
								</select>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Remarks</span>
									<span class="text-danger">*</span>
								</div>
								<input type="text" name="remarks"
											 class="form-control"
											 id="remarks"
											 required="" ng-model="transaction.remarks">
							</div>
						</div>
					</div>
					<div class="row" ng-show="transaction.type == 2">
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Loan Id:</span>
									<span class="text-danger">*</span>
								</div>
								<div class="form-group input-group">
									<input type="text" name="loanId" ng-disabled="true"
												 class="form-control"
												 id="loanId"
												 ng-model="transaction.loanId"/>
              <span class="input-group-btn">
                <button type="button"
												class="btn btn-default btn-datepicker"
												ng-click="openLoanSearchModal()">
									<i class="glyphicon glyphicon-search"></i></button>
              </span>
								</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Loan Amount</span>
								</div>
								<input type="text" name="loanAmount" ng-disabled="true"
											 class="form-control"
											 id="loanAmount"
											 ng-model="loanDetails.amount">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Loan Interest</span>
								</div>
								<input type="text" name="loanInterest" ng-disabled="true"
											 class="form-control"
											 id="loanInterest"
											 ng-model="loanDetails.interest">
							</div>
						</div>
					</div>
					<div class="row" ng-show="transaction.type == 2">
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Principal Paid</span>
								</div>
								<input type="text" name="principalPaid" ng-disabled="true"
											 class="form-control"
											 id="principalPaid"
											 ng-model="loanDetails.amountPaid">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Interest Paid</span>
								</div>
								<input type="text" name="interestPaid" ng-disabled="true"
											 class="form-control"
											 id="interestPaid"
											 ng-model="loanDetails.interestPaid">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<div class="label-input">
									<span class="form-text">Loan Installment</span>
								</div>
								<input type="text" name="loanInstallment" ng-disabled="true"
											 class="form-control"
											 id="loanInstallment"
											 ng-model="loanDetails.installment">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>
<print-transaction context="printTransaction.context" options="printTransaction.options"/>
<member-loan-search option="loanSearchOption"></member-loan-search>